{"version":3,"sources":["webpack:///./src/actions/actionCreator.js?0bc0"],"names":["textToReverse","getAgent","getAccessToken","getChat","item","type","agentApi","id","get","addAgentsToStore","arr","token","localStorage","getItem","console","log","dispatch","then","response","slice","date","time","j","length","Date","createdOn","getTime","getTimezoneOffset","toString","split","push","userSays","getDate","getMonth","getFullYear","e","catch","error","getAccess","username","password","post","addToken","setItem","errorHandling","window","onload","justOnce","location","reload","alert","chatWithBot","addChat","data","userdate","botdate","usertime","bottime","i"],"mappings":"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","file":"0.30cd7592ff42082c9054.hot-update.js","sourcesContent":["import axios from 'axios';\n\nexport function textToReverse(item){\n\treturn{\n\t\ttype:\"REVERSE\",\n\t\titem\n\t}\n}\n\nfunction agentApi(id){\n\treturn axios.get('http://35.154.183.147:5010/api/v1/botsessions?filter=%7B%22where%22%3A%7B%22agentId%22%3A%2258cfeadbbb18880c820e8c72%22%7D%2C%22limit%22%3A500%2C%22order%22%3A%22id%20DESC%22%7D&access_token='+id+'&access_token='+id)\n}\n\nfunction addAgentsToStore(arr,token){\n\treturn {\n\t\ttype : \"ADD_SESSION\",\n\t\tarr,\n\t\ttoken\n\t}\n}\n\nexport function getAgent(token){\n\tif(token === 0){\n\t\ttoken = localStorage.getItem('token');\n\t\tconsole.log(\"vats\",token)\n\t}\n\treturn function(dispatch) {\n\t\treturn agentApi(token)\n\t\t.then(response =>{\n\t\t\ttry{\n\t\t\t\tresponse = response[\"data\"].slice(0,30);\n\t\t\t\tvar arr=[];\n\t\t\t\tvar date = 0;\n\t\t\t\tvar time;\n\t\t\t\tfor(var j=0;j<response.length;j++){\n\t\t\t\t\tdate = new Date(response[j].createdOn);\n\t\t\t\t\tdate = new Date( date.getTime() + ( date.getTimezoneOffset() * 60000 ) );\n\t\t\t\t\ttime = date.toString().split(\" \");\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\t\"agentId\" : response[j].id,\n\t\t\t\t\t\t\"userSays\" : response[j].userSays,\n\t\t\t\t\t\t\"createdOn\" : date.getDate()+'-'+date.getMonth()+'-'+date.getFullYear()+' '+time[4]\n\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t\tdispatch(addAgentsToStore(arr,token))\n\t\t\t}\n\t\t\tcatch(e){\n\t\t\t\tconsole.log(e)\n\t\t\t}\n\t\t})\n\t\t.catch(error =>{\n\t\t\tconsole.log(error)\n\t\t})\n\t}\n}\n\nfunction getAccess(username,password){\n\treturn axios.post('http://35.154.183.147:5010/api/v1/adminusers/login',{\n\t\t\"username\": username,\n\t\t\"password\": password\n\t})\n}\n\nfunction addToken(id){\n\tlocalStorage.setItem('token',id);\n\treturn {\n\t\ttype : \"ADD_TOKEN\",\n\t\tid\n\t}\n}\n\nfunction errorHandling(){\n\treturn {\n\t\ttype : \"ERROR_HANDLE\"\n\t}\n}\n\nexport function getAccessToken(username,password){\n\treturn function(dispatch){\n\t\treturn getAccess(username,password)\n\t\t.then(response =>{\n\t\t\ttry{\n\t\t\t\tdispatch(addToken(response[\"data\"].id))\n\t\t\t\twindow.onload = function () {\n\t\t\t\t\tconsole.log(\"VATSALYA\")\n \t\t\t\t   if (!localStorage.justOnce) {\n   \t\t\t\t     localStorage.setItem(\"justOnce\", \"true\");\n     \t\t\t   window.location.reload();\n    \t\t}\n\t\t}\n\t\t\t}\n\t\t\tcatch(e){\n\t\t\t\talert(\"Error on the server side, please try again later\")\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\talert(\"Please check the Username and password enteried!\")\n\t\t\tdispatch(errorHandling())\n\t\t})\n\t}\n}\n\n\nfunction chatWithBot(id,token){\n\treturn axios.get('http://35.154.183.147:5010/api/v1/botsessions/'+id+'/botmessage?access_token='+token+'&access_token='+token);\n}\n\n\nfunction addChat(data){\n\treturn {\n\t\ttype : \"ADD_CHAT\",\n\t\tdata\n\t}\n}\n\nexport function getChat(id,token){\n\tconsole.log(\"var replies====\",token)\n\t\n\treturn function(dispatch){\n\t\treturn chatWithBot(id,token)\n\t\t.then(response =>{\n\t\t\ttry{\n\t\t\t\tvar data =[];\n\t\t\tvar userdate,botdate;\n\t\t\tvar usertime,bottime;\n\t\t\tfor(var i=1;i<response[\"data\"].length;i=i+2){\n\t\t\t\tuserdate = new Date(response[\"data\"][i-1].createdOn);\n\t\t\t\t\tuserdate = new Date( userdate.getTime() + ( userdate.getTimezoneOffset() * 60000 ) );\n\t\t\t\t\tusertime = userdate.toString().split(\" \");\n\n\t\t\t\t\tbotdate = new Date(response[\"data\"][i].createdOn);\n\t\t\t\t\tbotdate = new Date( botdate.getTime() + ( botdate.getTimezoneOffset() * 60000 ) );\n\t\t\t\t\tbottime = botdate.toString().split(\" \");\n\n\t\t\t\tdata.push({\"user\" :response[\"data\"][i].userSays,\n\t\t\t\t\t\"userTime\" : userdate.getDate()+'-'+userdate.getMonth()+'-'+userdate.getFullYear()+' '+usertime[4],\n\t\t\t\t\t\"bot\":response[\"data\"][i][\"response\"][\"replies\"][0],\n\t\t\t\t\t\"botTime\":botdate.getDate()+'-'+botdate.getMonth()+'-'+botdate.getFullYear()+' '+bottime[4]})\n\t\t\t\t\n\t\t\t}\n\t\t\tdispatch(addChat(data))\n\t\t}\n\t\tcatch(e){\n\t\t\tconsole.log(e)\n\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error)\n\t\t})\n\t}\n}\n\n\n// candidate@29072017\n\n\n// WEBPACK FOOTER //\n// ./src/actions/actionCreator.js"],"sourceRoot":""}